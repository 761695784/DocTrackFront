<app-navbar></app-navbar>

<div class="container">
  <div class="grid-container">
    <!-- Boucle pour afficher toutes les publications -->
    <div class="card" *ngFor="let publication of publications">
      <!-- Affichage dynamique de l'image -->
      <img [src]="publication.image ? 'http://localhost:8000' + publication.image : '/assets/default-image.png'" alt="Document Image" />

      <div class="card-content">
        <!-- Informations dynamiques de la publication -->
        <p class="published-by">Publié par {{ publication.user.FirstName }} {{ publication.user.LastName }} | {{ publication.created_at | date:'dd MMM yyyy' }}</p>
        <p class="phone-number">📞 {{ publication.user.Phone }}</p>
        <p>Prénom propriétaire: <strong>{{ publication.OwnerFirstName }}</strong></p>
        <p>Nom propriétaire: <strong>{{ publication.OwnerLastName }}</strong></p>

        <div class="card-actions">
          <span class="delete-icon" (click)="deletePublication(publication.id)" style="cursor: pointer; color: red; font-size: 24px;">🗑️</span>
          <span class="status" (click)="toggleStatus(publication)" [ngClass]="publication.statut === 'récupéré' ? 'success' : 'error'" style="cursor: pointer;">
            {{ publication.statut === 'récupéré' ? '✔️' : '❌' }}
          </span>


        </div>
      </div>
    </div>
  </div>
</div>

<app-footer></app-footer>
